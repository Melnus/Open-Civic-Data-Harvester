# Open-Civic-Data-Harvester ğŸšœ

æ—¥æœ¬ã®è¡Œæ”¿ãƒ‡ãƒ¼ã‚¿ï¼ˆExcel/PDFï¼‰ã‚’åé›†ã—ã€æ©Ÿæ¢°å¯èª­ãªJSONå½¢å¼ã«å¤‰æ›ã—ã¦APIåŒ–ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€‚
ã‚·ã‚¹ãƒ†ãƒ ãŒã€Œç¾å®Ÿã®ç‰©ç†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚’å¸ã„ä¸Šã’ã‚‹ãŸã‚ã®å¸å…¥å£ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚

## ğŸ“ ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

- `xlsx/`: **ã€å…¥åŠ›ã€‘** ã“ã“ã«è¡Œæ”¿ã®Excelãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚
- `data/`: **ã€å‡ºåŠ›ã€‘** å¤‰æ›ã•ã‚ŒãŸJSONãŒã“ã“ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- `src/`: å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆTypeScriptï¼‰ã€‚

---

## ğŸ›  ä½¿ã„æ–¹ (Human Protocol)

å®˜å…¬åºã®URLã¯é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ãŸã‚ã€ä»¥ä¸‹ã®æ‰‹é †ã§æ‰‹å‹•åé›†ï¼ˆHarvestï¼‰ã‚’è¡Œã„ã¾ã™ã€‚
### 0. æ³¨æ„

**å’Œæš¦ã®ç¦æ­¢:**
   ä»¤å’Œä½•å¹´å¹³æˆä½•å¹´ã¨ã„ã†æ›¸ãæ–¹ã§ã¯ãªãã€ã€FYã€‡ã€‡ã€‡ã€‡-è‹±èª.æ‹¡å¼µå­ã€ã«ã—ã¦ãã ã•ã„ã€‚**ã“ã‚ŒãŒä¸–ç•Œæ¨™æº–ã§ã™ã€‚**

### 1. ãƒ‡ãƒ¼ã‚¿ã‚’ç‹©ã‚‹ï¼ˆDownloadï¼‰
ä»¥ä¸‹ã®ã€Œä¸»è¦ãªç‹©ã‚Šå ´ã€ã‹ã‚‰æœ€æ–°ã®çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ï¼ˆExcelå½¢å¼ï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

| ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | ç‹©ã‚Šå ´ (URL) | æ¨å¥¨ãƒ•ã‚¡ã‚¤ãƒ«å |
| :--- | :--- | :--- |
| **åœ°æ–¹è²¡æ”¿** |  [ç·å‹™çœï½œåœ°æ–¹è²¡æ”¿çŠ¶æ³èª¿æŸ»é–¢ä¿‚è³‡æ–™ï½œæ±ºç®—ã‚«ãƒ¼ãƒ‰](https://www.soumu.go.jp/iken/zaisei/card.html) | `FYxxxx-settlementcard.xls` |
| **äººå£ç§»å‹•** | [çµ±è¨ˆå±€ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸/ä½æ°‘åŸºæœ¬å°å¸³äººå£ç§»å‹•å ±å‘Š](https://www.stat.go.jp/data/idou/index.html) | `FYxxxx-migration_prefecture.xlsx` |
| **äººå£å‹•æ…‹** | [ç·å‹™çœï½œä½æ°‘åŸºæœ¬å°å¸³ç­‰ï½œä½æ°‘åŸºæœ¬å°å¸³ã«åŸºã¥ãäººå£ã€äººå£å‹•æ…‹åŠã³ä¸–å¸¯æ•°](https://www.soumu.go.jp/main_sosiki/jichi_gyousei/daityo/jinkou_jinkoudoutai-setaisuu.html) | `FYxxxx-population_dynamics_municipal.xlsx` |
  
- åœ°æ–¹è²¡æ”¿
xxxxå¹´åº¦éƒ½é“åºœçœŒæ±ºç®—ã‚«ãƒ¼ãƒ‰
  
- äººå£ç§»å‹•
éƒ½é“åºœçœŒåˆ¥ç¤¾ä¼šå¢—æ¸›æ•°ï¼ˆxxxxå¹´ï¼‰
  
- äººå£å‹•æ…‹
ã€ç·è¨ˆã€‘xxxxå¹´ä½æ°‘åŸºæœ¬å°å¸³äººå£ãƒ»ä¸–å¸¯æ•°ã€xxxxå¹´äººå£å‹•æ…‹ï¼ˆå¸‚åŒºç”ºæ‘åˆ¥ï¼‰
  
### 2. ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã™ã‚‹ï¼ˆIngestï¼‰
1. GitHubã® **`xlsx`** ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ãã¾ã™ã€‚
2. å³ä¸Šã®ã€ŒAdd fileã€â†’ã€ŒUpload filesã€ã‚’é¸æŠã—ã¾ã™ã€‚
3. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸExcelãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ï¼ˆã¾ãŸã¯é¸æŠï¼‰ã—ã¾ã™ã€‚
4. ã€ŒCommit changesã€ã‚’æŠ¼ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚

### 3. å¤‰æ›ã¨å…¬é–‹ï¼ˆAuto-Transformï¼‰
ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚³ãƒŸãƒƒãƒˆã•ã‚Œã‚‹ã¨ã€GitHub ActionsãŒè‡ªå‹•çš„ã«èµ·å‹•ã—ã¾ã™ã€‚
- **ç´„1ã€œ2åˆ†å¾Œ**ã€`data/` ãƒ•ã‚©ãƒ«ãƒ€ã«åŒåã® `.json` ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- ä»¥ä¸‹ã®URLã§APIã¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚Šã¾ã™ï¼š
  `https://[Your-ID].github.io/[Repo-Name]/data/[ãƒ•ã‚¡ã‚¤ãƒ«å].json`

---

## ğŸ’» ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œæ–¹æ³• (é–‹ç™ºè€…å‘ã‘)

æ‰‹å…ƒã§å¤‰æ›ã‚’è©¦ã—ãŸã„å ´åˆï¼š

```bash
# 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# 2. xlsxãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã
cp ~/Downloads/test.xlsx ./xlsx/

# 3. å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
npm run harvest

# -> data/test.json ãŒç”Ÿæˆã•ã‚Œã¾ã™
```
